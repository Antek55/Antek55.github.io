openapi: 3.0.3
info:
  title: ''
  version: 0.0.0
paths:
  /knowledge:
    get:
      operationId: knowledge_list
      tags:
        - knowledge
      parameters:
        - in: header
          name: sessionId
          schema:
            type: string
          required: true
    post:
      operationId: knowledge_create
      tags:
      - knowledge
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/KnowledgeRequest'
        required: true
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          description: No response body
    delete:
      operationId: knowledge_destroy
      tags:
      - knowledge
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/KnowledgeRequest'
        required: true

      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '204':
          description: No response body
  /static/schema/:
    get:
      operationId: schema_retrieve
      description: |-
        OpenApi3 schema for this API. Format can be selected via content negotiation.

        - YAML: application/vnd.oai.openapi
        - JSON: application/vnd.oai.openapi+json
      parameters:
      - in: query
        name: format
        schema:
          type: string
          enum:
          - json
          - yaml
      - in: query
        name: lang
        schema:
          type: string
          enum:
          - af
          - ar
          - ar-dz
          - ast
          - az
          - be
          - bg
          - bn
          - br
          - bs
          - ca
          - ckb
          - cs
          - cy
          - da
          - de
          - dsb
          - el
          - en
          - en-au
          - en-gb
          - eo
          - es
          - es-ar
          - es-co
          - es-mx
          - es-ni
          - es-ve
          - et
          - eu
          - fa
          - fi
          - fr
          - fy
          - ga
          - gd
          - gl
          - he
          - hi
          - hr
          - hsb
          - hu
          - hy
          - ia
          - id
          - ig
          - io
          - is
          - it
          - ja
          - ka
          - kab
          - kk
          - km
          - kn
          - ko
          - ky
          - lb
          - lt
          - lv
          - mk
          - ml
          - mn
          - mr
          - ms
          - my
          - nb
          - ne
          - nl
          - nn
          - os
          - pa
          - pl
          - pt
          - pt-br
          - ro
          - ru
          - sk
          - sl
          - sq
          - sr
          - sr-latn
          - sv
          - sw
          - ta
          - te
          - tg
          - th
          - tk
          - tr
          - tt
          - udm
          - ug
          - uk
          - ur
          - uz
          - vi
          - zh-hans
          - zh-hant
      tags:
      - schema
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/vnd.oai.openapi:
              schema:
                type: object
                additionalProperties: {}
            application/yaml:
              schema:
                type: object
                additionalProperties: {}
            application/vnd.oai.openapi+json:
              schema:
                type: object
                additionalProperties: {}
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /setup:
    post:
      operationId: setup_create
      tags:
      - setup
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetupRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SetupRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SetupRequest'
        required: true
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SetupResponse'
          description: ''
  /stream:
    post:
      operationId: stream_create
      description: The response is a streaming http response of content type text/event-stream
        where each event is a string representing the next fragment of the response,
        until the last element is a JSON of the type documented below.
        Validators are as of yet not implemented, will return the value of 0 for each.
      tags:
      - stream
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StreamRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/StreamRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/StreamRequest'
        required: true
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StreamResponse'
          description: ''
  /temp/panel_npcs/:
    get:
      operationId: temp_panel_npcs_retrieve
      tags:
      - temp
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PanelNPCSchema'
          description: ''
components:
  schemas:
    AdditionalInformation:
      additionalProperties: false
      properties:
        name:
          items:
            type: string
          title: Name
          type: array
        scale:
          $ref: '#/components/schemas/Scale'
          description: Obsolete for now as we are refactoring whole NPC module, I'm
            not deleting it yet, as changes are still in progress.
        value:
          title: Value
          type: string
        type:
          $ref: '#/components/schemas/Type'
      required:
      - name
      - scale
      - value
      - type
      title: AdditionalInformation
      type: object
    Identity:
      additionalProperties: false
      properties:
        displayName:
          anyOf:
          - type: string
          - type: 'null'
          default: null
          title: Displayname
        characterOverview:
          anyOf:
          - type: string
          - type: 'null'
          default: null
          title: Characteroverview
      title: Identity
      type: object
    KnowledgeRequest:
      properties:
        sessionId:
          title: Sessionid
          type: string
        content:
          title: Content
          type: string
      required:
      - sessionId
      - content
      title: KnowledgeRequest
      type: object
    PanelNPCSchema:
      additionalProperties: true
      properties:
        _id:
          default: null
          title: Id
          type: string
        project:
          example: example_project
          title: Project
        projectKnowledge:
          items:
            $ref: '#/components/schemas/ProjectKnowledgeItem'
          title: Projectknowledge
          type: array
        uniqueName:
          title: Uniquename
          type: string
        identity:
          anyOf:
          - $ref: '#/components/schemas/Identity'
          - type: 'null'
          default: null
        personality:
          anyOf:
          - items:
              $ref: '#/components/schemas/PersonalityItem'
            type: array
          - type: 'null'
          default: null
          title: Personality
        speech:
          anyOf:
          - items:
              $ref: '#/components/schemas/SpeechItem'
            type: array
          - type: 'null'
          default: null
          title: Speech
        speechLength:
          anyOf:
          - type: string
          - type: 'null'
          default: null
          title: Speechlength
        additionalInformation:
          items:
            $ref: '#/components/schemas/AdditionalInformation'
          title: Additionalinformation
          type: array
        createdAt:
          example: example_createdAt
          format: date-time
          title: Createdat
          type: string
        updatedAt:
          example: example_updatedAt
          format: date-time
          title: Updatedat
          type: string
      required:
      - project
      - projectKnowledge
      - uniqueName
      - additionalInformation
      - createdAt
      - updatedAt
      title: PanelNPCSchema
      type: object
    PersonalityItem:
      additionalProperties: false
      properties:
        name:
          items:
            type: string
          title: Name
          type: array
        scale:
          $ref: '#/components/schemas/Scale'
          description: Obsolete for now as we are refactoring whole NPC module, I'm
            not deleting it yet, as changes are still in progress.
        value:
          title: Value
          type: string
        type:
          $ref: '#/components/schemas/Type'
      required:
      - name
      - scale
      - value
      - type
      title: PersonalityItem
      type: object
    ProjectKnowledgeItem:
      additionalProperties: false
      properties:
        id:
          title: Id
          type: string
        topic:
          anyOf:
          - type: string
          - type: 'null'
          default: null
          title: Topic
        text:
          anyOf:
          - type: string
          - type: 'null'
          default: null
          title: Text
      required:
      - id
      title: ProjectKnowledgeItem
      type: object
    Scale:
      additionalProperties: false
      properties:
        min:
          title: Min
          type: number
        max:
          title: Max
          type: number
      required:
      - min
      - max
      title: Scale
      type: object
    SetupRequest:
      properties:
        characterId:
          title: Characterid
          type: string
        initialKnowledge:
          items:
            type: string
          title: Initialknowledge
          type: array
        metadata:
          title: Metadata
          type: object
      required:
      - characterId
      - initialKnowledge
      - metadata
      title: SetupRequest
      type: object
    SetupResponse:
      properties:
        sessionId:
          title: Sessionid
          type: string
        status:
          allOf:
          - $ref: '#/components/schemas/StatusEnum'
          title: Status
        characterId:
          title: Characterid
          type: string
      required:
      - sessionId
      - status
      - characterId
      title: SetupResponse
      type: object
    SpeechItem:
      additionalProperties: false
      properties:
        name:
          items:
            type: string
          title: Name
          type: array
        scale:
          $ref: '#/components/schemas/Scale'
          description: Obsolete for now as we are refactoring whole NPC module, I'm
            not deleting it yet, as changes are still in progress.
        value:
          title: Value
          type: string
        type:
          $ref: '#/components/schemas/Type'
      required:
      - name
      - scale
      - value
      - type
      title: SpeechItem
      type: object
    StatusEnum:
      enum:
      - active
      - error
      type: string
    StreamRequest:
      properties:
        message:
          title: Message
          type: string
        context:
          items:
            type: string
          title: Context
          type: array
        timestamp:
          format: date-time
          title: Timestamp
          type: string
        indicators:
          items:
            type: string
          title: Indicators
          type: array
        sessionId:
          title: Sessionid
          type: string
      required:
      - message
      - context
      - timestamp
      - indicators
      - sessionId
      title: StreamRequest
      type: object
    StreamResponse:
      properties:
        indicators:
          additionalProperties:
            type: integer
          title: Indicators
          type: object
      required:
      - indicators
      title: StreamResponse
      type: object
    Type:
      enum:
      - single_scale
      - multiple_scale
      - text
      title: Type
      type: string
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
