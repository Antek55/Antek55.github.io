<!DOCTYPE html>
<html>
  <head>
    <title>OÅ›wiadczenie woli</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="rower-style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2"></script>
    <link rel="icon" href="gfx/favicon.ico">
  </head>
  <body>    
    <div class="testbox">
      <form v-on:submit.prevent="submit">
        <div v-if="form_id.length == 0" style="font-size: 60px; color: red">Formularz niewaÅ¼ny, nieustawiony id</div>
        
        <div class="banner" style='background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(91,208,237,1) 45%, rgba(0,212,255,1) 100%);; '>
          <h1>OÅ›wiadczenie woli :: jÄ™zyki z Antkiem</h1>
        </div>
        <div class="opis">
          <p>CzeÅ›Ä‡! W trakcie roku akademickiego zaproponowaÅ‚em Ci kilka rÃ³Å¼nych wakacyjnych wyzwaÅ„ jÄ™zykowych. Za pomocÄ… poniÅ¼szego formularza okreÅ›l, wspÃ³lna nauka ktÃ³rych jÄ™zykÃ³w potencjalnie by CiÄ™ interesowaÅ‚a. OÅ›wiadczenie nie jest zobowiÄ…zujÄ…ce i sÅ‚uÅ¼y orientacji co do istnienia woli dla dalszego planowania dziaÅ‚aÅ„. JÄ™zykÃ³w jest zbyt wiele, by podjÄ…Ä‡ je wszystkie, wiÄ™c moÅ¼e byÄ‡ konieczna selekcja, ale nie krÄ™puj siÄ™ wskazaÄ‡ dowolnie wiele. Niewskazanie dowolnego jÄ™zyka bÄ™dzie odebrane jako znak Twojego caÅ‚kowitego braku zainteresowania nim i nie bÄ™dÄ… wiÄ™cej proponowane dziaÅ‚ania z nim zwiÄ…zane. Formularz zamyka siÄ™ <span class="red">13 czerwca 22:00</span> a brak odpowiedzi oznacza odrzucenie wszystkich jÄ™zykÃ³w.</p>
        </div>
        
        <div>
          <label>OÅ›wiadcz swojÄ… wolÄ™. KtÃ³re z poniÅ¼szych wakacyjnych jÄ™zykowych chciaÅ‚abyÅ› przyjÄ…Ä‡?</label>
          <p v-for="[key, value] of Object.entries(r)">
           <input type="checkbox" v-model="r[key]" :id="key" :name="key"> <label :for="key" style="position: relative; left: 15px">{{  key  }}</label>
          </p>
          
        </div>
    
      <div class="item">
          <label for="uwagi">Czy masz jakieÅ› dodatkowe informacje/uwagi/sugestie/pomysÅ‚y/objaÅ›nienia/pytania/obawy?</label>
          <textarea id="uwagi" rows="3" v-model="uwagi"></textarea>
        </div>
        
        <div class="btn-block">
          <button>WyÅ›lij</button>
        </div>
      </form>
  </body>
  
  <script>
  function submit_send()
  {
    $("form").html("ProszÄ™ o cierpliwoÅ›Ä‡, trwa przesyÅ‚anieâ€¦")    

    url = 'https://ee3bdbc49df06c2b49c9d45c8834f47c.m.pipedream.net?odp='
    
    var wynik = encodeURIComponent(JSON.stringify(app.$data));
    $.get(url + wynik, on_success);
    
    function on_success(data)
    {
      if (!data.success)
      {
        $("form").html('<h2 class="red">Nie moÅ¼na przesÅ‚aÄ‡ z powodu nieznanego bÅ‚Ä™du. SprÃ³buj jeszcze raz lub zadeklaruj uczestnictwo osobiÅ›cie przez wiadomoÅ›Ä‡ prywatnÄ…/<a href="mailto:ja.wodzinski@student.uw.edu.pl">email</a>.</h2>');
        return false;
      }
      
      $("form").html("WysÅ‚ano odpowiedÅº.")
    }
  }

  var app = new Vue({
    el: "form", 
    data: {
      form_id: "oÅ›wiadczenie-woli-42ff83",
      r: {
        'ğŸ‡¨ğŸ‡¿ jÄ™zyk czeski': false,
        'ğŸ‡·ğŸ‡´ jÄ™zyk rumuÅ„ski': false,
        'ğŸ‡¨ğŸ‡³ jÄ™zyk mandaryÅ„ski': false,
        'ğŸ‡¸ğŸ‡ª jÄ™zyk szwedzki': false,
        'ğŸ§ jÄ™zyk migowy': true,
      },
      uwagi: "",
    }, 
    methods: 
    {
      submit: submit_send,
    } 
  })
</script>
</html>
